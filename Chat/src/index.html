<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba Chat electron</title>
    <link rel="stylesheet" href="index.css">
    <script>window.$ = window.jQuery = require('jquery');</script>
    <script src="./chat.js"></script>

</head>
<body>

    <div tabindex="0" class="chatImg"><img src="../images/chat.png" alt=""></div>
    <div class="dropdown"></div>

    <div id="Chat" class="menuChat">
            
        <div id="rutasChats">
        <aside class="sidebarChat">
        <label class="tituloChat">chats geocoder</label>
        <img class="imgVolverChat" src="../images/flechaVolver.png">
        <nav class="navChat">
        <ul>
           
            <li><a href="#" onclick="conexion('ruta X')">Chat 1</a></li>
            <li><a href="#" onclick="conexion('ruta Y')">Chat 2</a></li>

        </ul>
        
        </nav>
        </aside>
        </div>

        <div id="chatRuta">
            <aside class="sidebarChat">
                <label class="tituloChatRuta">RUTA X</label>
                <img class="imgVolverRutasChat" src="../images/flechaVolver.png" onclick="desconexion()">
                <div class="fondoChat">
                    <div id="contenidoChat"></div>
                </div>
                <textarea class="textareaChat" oninput="auto_grow(this)" placeholder="Escribe a los usuarios de este chat" onkeypress="botonPulsado();"></textarea>
                <button class="botonChat" onclick="anadirTexto()"><img src="../images/flechaEnviar.png"></button>
            </aside>
        </div>
    </div>

    <script>
        $('#Chat').hide();
        $('.chatImg, .imgVolverChat').on("click", function(e) {
            $('#Chat').fadeToggle('fast');
        });

        $('#chatRuta').hide();
        $('li').on("click", function(e) {
            $('#rutasChats').hide();
            $('#chatRuta').show();
            
            //conectar al socket
        });
        
        $('.imgVolverRutasChat').on("click", function(e) {
            $('#rutasChats').show();
            $('#chatRuta').hide();
        });

        //funcion de autoagrandamiento del text area segun su contenido
        function auto_grow(element) {
            element.style.height = "5px";
            element.style.height = (element.scrollHeight)+"px";
        }

        //no se puede hacer drag a las imagenes
        $('img').on('dragstart', function(event) { event.preventDefault(); });


    </script>
    
</body>
</html>